function _addReoTagHide(e){var t=document.createElement("style");t.type="text/css",newStyle=e+" { display: none;}",t.appendChild(document.createTextNode(newStyle)),document.getElementsByTagName("head")[0].appendChild(t)}function reoManualTrigger(e,t){void 0===t&&(t=null),_tryTriggering(e,t)}function reoManualLoad(e){_reoManualLoad("string"==typeof e?document.querySelector(e):e)}function reoLoadContent(e,t,r){if(void 0!=r)o=_getElementToLoadByStr(r);else var o=_getElementToLoad(e);for(var a=0;a<o.length;a++)o[a].innerHTML="";return"true"==e.getAttribute("data-reo-get-anim")?reoJ.append(o,t,!0):reoJ.append(o,t)}function reoAppendContent(e,t,r){if(void 0!=r)o=_getElementToLoadByStr(r);else var o=_getElementToLoad(e);return"true"==e.getAttribute("data-reo-get-anim")?reoJ.append(o,t,!0):reoJ.append(o,t)}function reoPrependContent(e,t,r){if(void 0!=r)o=_getElementToLoadByStr(r);else var o=_getElementToLoad(e);return"true"==e.getAttribute("data-reo-get-anim")?reoJ.prepend(o,t,!0):reoJ.prepend(o,t)}function reoLoaderShow(e){var t=0;e.hasAttribute("data-reo-loader-use-count")&&(t=parseInt(e.getAttribute("data-reo-loader-use-count"))),0==t&&(e.style.visibility="visible"),e.setAttribute("data-reo-loader-use-count",t+1)}function reoLoaderHide(e){var t;e.hasAttribute("data-reo-loader-use-count")&&0!=(t=parseInt(e.getAttribute("data-reo-loader-use-count")))&&(1==t&&(e.style.visibility="hidden"),e.setAttribute("data-reo-loader-use-count",t-1))}function _customLoadFunc(e,t,r){if(void 0===r&&(r=null),null!=t){if(e.hasAttribute("data-reo-trigger-load-func"))window[e.getAttribute("data-reo-trigger-load-func")](e,r,t);else{if(!e.hasAttribute("data-reo-content-load-func"))return!1;window[e.getAttribute("data-reo-content-load-func")](e,r)}return!0}return!!e.hasAttribute("data-reo-content-load-func")&&(window[e.getAttribute("data-reo-content-load-func")](e,r),!0)}function _addTriggerSourceElem(e,t){null==t.tr?t.tr=[e]:t.tr.push(e)}function _sendReoTrigger(e,t){if(window.CustomEvent)var r=new CustomEvent("reo-trigger",{detail:{triggerSourceElems:t},bubbles:!0});else(r=document.createEvent("CustomEvent")).initCustomEvent("reo-trigger",!0,!0,{triggerSourceElems:t});e.dispatchEvent(r)}function _reoTrigger(selector,triggerSource,triggerSourceElems,isId){var count=0;if("string"==typeof triggerSource){if(1==isId){var elems=[document.getElementById(triggerSource)];null==elems[0]&&(elems=[])}else var elems=document.querySelectorAll(selector.format(triggerSource));for(var i=0;i<elems.length;i++)_sendReoTrigger(elems[i],[triggerSourceElems]),count++}else{if(triggerSource.hasAttribute("data-reo-trigger-func")){var fn=window[triggerSource.getAttribute("data-reo-trigger-func")];return _addTriggerSourceElem(triggerSource,tr={tr:triggerSourceElems}),"function"==typeof fn?fn(tr.tr):eval(triggerSource.getAttribute("data-reo-trigger-func")),1}if(1==isId){var elems=[document.getElementById(triggerSource.getAttribute("data-reo-trigger"))];null==elems[0]&&(elems=[])}else var elems=document.querySelectorAll(selector.format(triggerSource.getAttribute("data-reo-trigger")));for(var i=0;i<elems.length;i++)0==count&&_addTriggerSourceElem(triggerSource,tr={tr:triggerSourceElems}),_sendReoTrigger(elems[i],tr.tr),count++}return count}function _tryTriggering(e,t){0==_reoTrigger('[data-reo-trigger-listen="{0}"]',e,t)&&0==_reoTrigger("{0}",e,t,!0)&&0==_reoTrigger("{0}",e,t)&&_reoTrigger("[data-reo-name~={0}]",e,t)}function _urlData(e,t){if(e.hasAttribute("data-reo-url-data-func"))return window[e.getAttribute("data-reo-url-data-func")](e,t);if(e.hasAttribute("data-reo-form-data"))return(r=reoJ.serializeArray(document.getElementById(e.getAttribute("data-reo-form-data")))).map(function(e,t){return e.name+"="+encodeURIComponent(e.value)}).join("&");if(e.hasAttribute("data-reo-form")){var r=reoJ.serializeArray(document.getElementById(e.getAttribute("data-reo-form")));return r.map(function(e,t){return e.name+"="+encodeURIComponent(e.value)}).join("&")}return null}function _doGetRequest(e,t,r,o){var a=new XMLHttpRequest;return null==t?a.open("GET",e,!0):a.open("GET",e+"?"+t),a.onerror=_onRequestFail(r,o,a),a.onloadend=_onLoadEnd(r,o,a),a.send(),a}function _doPostRequest(e,t,r,o){var a=new XMLHttpRequest;return a.open("POST",e,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.onerror=_onRequestFail(r,o,a),a.onloadend=_onLoadEnd(r,o,a),a.send(t),a}function _onLoadEnd(e,t,r){return function(){if(r.status>300)return _onRequestFail(e,t,r)();var o=r.responseText;if(null==r.getResponseHeader("Reo-Redirect")){var a={response:o};if(204!=r.status&&!_customLoadFunc(e,t,o))if(_preLoadFunc(e,a),0==a.response.indexOf("<data-reo-override>")){var n,i=a.response.indexOf("</data-reo-override>"),u=a.response.substring("<data-reo-override>".length,i),d=a.response.substring(i+"</data-reo-override>".length),l=JSON.parse(u);void 0!=l.loadTo?n=reoLoadContent(e,d,l.loadTo):void 0!=l.appendTo?n=reoAppendContent(e,d,l.appendTo):void 0!=l.prependTo&&(n=reoPrependContent(e,d,l.prependTo))}else if(n=e.hasAttribute("data-reo-load-to")?reoLoadContent(e,a.response):e.hasAttribute("data-reo-append-to")?reoAppendContent(e,a.response):e.hasAttribute("data-reo-prepend-to")?reoPrependContent(e,a.response):reoLoadContent(e,a.response),e.hasAttribute("data-reo-page-title")&&(document.title=e.getAttribute("data-reo-page-title")),e.hasAttribute("data-reo-page-url")){var c;c=e.hasAttribute("data-reo-page-back-func")?{action:"self",content:n,func:e.getAttribute("data-reo-page-back-func"),triggeredElem:e}:{action:"auto",content:n},_stateStack.push(c),history.pushState(e.getAttribute("data-reo-page-title"),"nothing",e.getAttribute("data-reo-page-url"))}"stop"!=r.getResponseHeader("Reo-Post-Load")&&(_postFunc(e,a.response,t),_loaderHide(e),_deleteElem(e),!e.hasAttribute("data-reo-trigger")&&!e.hasAttribute("data-reo-trigger-func")||e.hasAttribute("data-reo-trigger-always")||_tryTriggering(e,t))}else location.href=r.getResponseHeader("Reo-Redirect")}}function _onRequestFail(e,t,r){return function(){_loaderHide(e),_reoError(e,r.responseText)}}function _doRequest(e,t){var r;if(_loaderShow(e),e.hasAttribute("data-reo-get-url-func")){o=_urlData(e,t);r=_doGetRequest(window[e.getAttribute("data-reo-get-url-func")](e,t),o,e,t)}else if(e.hasAttribute("data-reo-get-url")){o=_urlData(e,t);r=_doGetRequest(e.getAttribute("data-reo-get-url"),o,e,t)}else{if(e.hasAttribute("data-reo-submit"))return void document.getElementById(e.getAttribute("data-reo-submit")).submit();if(e.hasAttribute("data-reo-post-url-func")){o=_urlData(e,t);r=_doPostRequest(window[e.getAttribute("data-reo-post-url-func")](e,t),o,e,t)}else if(e.hasAttribute("data-reo-post-url")){o=_urlData(e,t);r=_doPostRequest(e.getAttribute("data-reo-post-url"),o,e,t)}else{if(!e.hasAttribute("data-reo-form"))return void console.log("Nothing to do");var o=_urlData(e,t);r=_doPostRequest(document.getElementById(e.getAttribute("data-reo-form")).getAttribute("action"),o,e,t)}}return r}function _urlLoadFunc(e,t){void 0!=_doRequest(e,t)&&e.hasAttribute("data-reo-trigger")&&e.hasAttribute("data-reo-trigger-always")&&_tryTriggering(e)}function _reoManualLoad(e,t){void 0===t&&(t=null),_preFuncCheck(e,t)&&(e.hasAttribute("data-reo-get-url")||e.hasAttribute("data-reo-post-url")||e.hasAttribute("data-reo-delete")||e.hasAttribute("data-reo-custom-delete-func")||e.hasAttribute("data-reo-get-url-func")||e.hasAttribute("data-reo-post-url-func")||e.hasAttribute("data-reo-submit")||e.hasAttribute("data-reo-form")?e.hasAttribute("data-reo-get-url")||e.hasAttribute("data-reo-post-url")||e.hasAttribute("data-reo-get-url-func")||e.hasAttribute("data-reo-post-url-func")||e.hasAttribute("data-reo-submit")||e.hasAttribute("data-reo-form")?_urlLoadFunc(e,t):(e.hasAttribute("data-reo-delete")||e.hasAttribute("data-reo-custom-delete-func"))&&_deleteElem(e):_customLoadFunc(e,t)||console.log("Nothing to do"))}function _getElementToLoadByStr(e){return null!=document.getElementById(e)?[document.getElementById(e)]:0!=document.querySelectorAll(e).length?document.querySelectorAll(e):document.querySelectorAll('[data-reo-name~="{0}"]'.format(e))}function _getElementToLoad(e){return"string"==typeof e?_getElementToLoadByStr(e):e.hasAttribute("data-reo-load-to")?_getElementToLoadByStr(e.getAttribute("data-reo-load-to")):e.hasAttribute("data-reo-append-to")?_getElementToLoadByStr(e.getAttribute("data-reo-append-to")):e.hasAttribute("data-reo-prepend-to")?_getElementToLoadByStr(e.getAttribute("data-reo-prepend-to")):[e]}function _preFuncCheck(e,t){if(e.hasAttribute("data-reo-pre-func")){var r=(0,window[e.getAttribute("data-reo-pre-func")])(e,t);return void 0===r||r}return!0}function _preLoadFunc(element,retData){if(element.hasAttribute("data-reo-pre-load-func")){var func=window[element.getAttribute("data-reo-pre-load-func")];null!=func?func(element[0],retData):eval(element.getAttribute("data-reo-pre-load-func"))}}function _postFunc(element,retData,triggerSourceElems){if(element.hasAttribute("data-reo-post-func")){var func=window[element.getAttribute("data-reo-post-func")];null!=func?func(element,retData,triggerSourceElems):eval(element.getAttribute("data-reo-post-func"))}}function _getLoaderElem(e){var t=e.getAttribute("data-reo-loader-elem"),r=document.getElementById(t);return null!=r?r:document.querySelector(t)}function _loaderShow(triggeredElem){if(triggeredElem.hasAttribute("data-reo-loader-show-func")){var fn=window[triggeredElem.getAttribute("data-reo-loader-show-func")],jsStr=window[triggeredElem.getAttribute("data-reo-loader-show-func")];fn&&(jsStr=triggeredElem.getAttribute("data-reo-loader-show-func")+"(triggeredElem[0])"),eval(jsStr)}else if(triggeredElem.hasAttribute("data-reo-loader-elem")){var elem=_getLoaderElem(triggeredElem);reoLoaderShow(elem)}}function _loaderHide(triggeredElem){if(triggeredElem.hasAttribute("data-reo-loader-hide-func")){var fn=window[triggeredElem.getAttribute("data-reo-loader-hide-func")],jsStr=window[triggeredElem.getAttribute("data-reo-loader-hide-func")];fn&&(jsStr=triggeredElem.getAttribute("data-reo-loader-hide-func")+"(triggeredElem[0])"),eval(jsStr)}else if(triggeredElem.hasAttribute("data-reo-loader-elem")){var elem=_getLoaderElem(triggeredElem);reoLoaderHide(elem)}}function _reoError(e,t){if(e.hasAttribute("data-reo-error-func")){var r=window[e.getAttribute("data-reo-error-func")];r?r(e,t):alert("An error has occurred")}else if(e.hasAttribute("data-reo-error-load-to")){var e=_getElementToLoadByStr(e.getAttribute("data-reo-error-load-to"));reoJ.append(e,t)}else console.log("An error has occurred: "+t)}function _deleteElem(e){if(e.hasAttribute("data-reo-custom-delete-func"))window[e.getAttribute("data-reo-custom-delete-func")](e);else if(e.hasAttribute("data-reo-delete")){var t=_getElementToLoadByStr(e.getAttribute("data-reo-delete"));if("true"==e.getAttribute("data-reo-delete-anim"))for(r=0;r<t.length;r++)reoJ.fadeOut(t[r],!0);else for(var r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r])}}!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(e,t,r){function o(e,t){return l(e,"table")&&l(11!==t.nodeType?t:t.firstChild,"tr")?e.querySelector("tbody")||e:e}function a(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(e,t){if(Array.isArray(e))return e.map(t);for(var r=[],o=0;o<e.length;o++)r.push(t(e[o]));return r}function i(e,t){for(var r=+t.length,o=0,a=e.length;o<r;o++)e[a++]=t[o];return e.length=a,e}function u(e){return e.replace(T,"<$1></$2>")}function d(e,t,r){return null==t?-1:indexOf.call(t,e,r)}function l(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function c(e,t){var o;return o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],t===r||t&&l(e,t)?i([e],o):o}function s(e,t,r,o){for(var a,n,l,s,f,m=t.createDocumentFragment(),p=[],h=0,b=e.length;h<b;h++)if((a=e[h])||0===a){for(n=n||m.appendChild(t.createElement("div")),l=(S.exec(a)||["",""])[1].toLowerCase(),s=k[l]||k._default,n.innerHTML=s[1]+u(a)+s[2],f=s[0];f--;)n=n.lastChild;i(p,n.childNodes),(n=m.firstChild).textContent=""}for(m.textContent="",h=0;a=p[h++];)r&&d(a,r)>-1?o&&o.push(a):(g(a.ownerDocument,a),n=c(m.appendChild(a),"script"));return m}function g(e,t){var r=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(r.contains?r.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}function f(e,t){var r=t.nodeName.toLowerCase();"input"===r&&L.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function m(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName}function p(e,t,r){var o,a,n,i,u=e.cloneNode(!0);g(e.ownerDocument,e);if(!(q||1!==e.nodeType&&11!==e.nodeType||m(e)))for(i=c(u),o=0,a=(n=c(e)).length;o<a;o++)f(n[o],i[o]);return u}function h(e,t){if("documentfragment"==a(e))for(var r=0;r<e.childElementCount;r++)e.children[r].style.opacity=0;else e.style.opacity=0}function b(e){e.style.opacity=0;var t=+new Date,r=function(){e.style.opacity=+e.style.opacity+(new Date-t)/400,t=+new Date,+e.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16))};r()}function A(e){for(var t=0;t<e.length;t++)b(e[t])}function v(e,t){if("documentfragment"==a(e))for(var r=0;r<e.childNodes.length;r++)t.push(e.childNodes[r]);else t.push(e)}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function E(e){var t=R.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){var r=(t=t||document).createElement("script");r.text=e,t.head.appendChild(r).parentNode.removeChild(r)}function w(e,t,r,o){var a,u,d,l,f,m,h=0,b=e.length,A=b-1;if(b&&(a=s(t,e[0].ownerDocument,!1,e,o),u=a.firstChild,1===a.childNodes.length&&(a=u),u||o)){for(l=(d=n(c(a,"script"),y)).length;h<b;h++)f=a,h!==A&&(f=p(f,!0,!0),l&&i(d,c(f,"script"))),r.call(e[h],f);if(l)for(m=d[d.length-1].ownerDocument,n(d,E),h=0;h<l;h++)f=d[h],C.test(f.type||"")&&g(m,f)&&(f.src||_(f.textContent.replace(F,""),m))}return e}var S=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,T=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,L=/^(?:checkbox|radio)$/i,C=/^$|\/(?:java|ecma)script/i,R=/^true\/(.*)/,q=!0,D=!1,N=/\r?\n/g,B=/^(?:submit|button|image|reset|file)$/i,x=/^(?:input|select|textarea|keygen)/i,F=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,k={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};!function(){var e=document.createDocumentFragment().appendChild(document.createElement("div")),t=document.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),D=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",q=!!e.cloneNode(!0).lastChild.defaultValue}(),k.optgroup=k.option,k.tbody=k.tfoot=k.colgroup=k.caption=k.thead,k.th=k.td,e.fadeOut=function(e,t){e.style.opacity=1;var r=+new Date,o=function(){e.style.opacity=+e.style.opacity-(new Date-r)/400,r=+new Date,+e.style.opacity>0?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):e.parentNode.removeChild(e)};o()},e.serializeArray=function(e){return i([],i([],e.elements).filter(function(e){var t=e.type;return e.name&&!e.disabled&&x.test(e.nodeName)&&!B.test(t)&&(e.checked||!L.test(t))}).map(function(e,t){var r=e.value;return null==r?null:Array.isArray(r)?n(r,function(t){return{name:e.name,value:t.replace(N,"\r\n")}}):{name:e.name,value:r.replace(N,"\r\n")}}))},e.append=function(e,t,r){var a=[];return w(e,[t],function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=o(this,e);r&&h(e),v(e,a),t.appendChild(e)}}),r&&A(a),a},e.prepend=function(e,t,r){var a=[];return w(e,[t],function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=o(this,e);r&&h(e),v(e,a),t.insertBefore(e,t.firstChild)}}),r&&A(a),a}}(window.reoJ=window.reoJ||{}),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,r){return void 0!==e[r]?e[r]:t})});var _stateStack=[];_addReoTagHide("data-reo-override"),document.addEventListener("DOMContentLoaded",function(e){history.pushState(document.title,null,window.location.pathname),document.body.addEventListener("click",function(e){e.target&&"click"==e.target.getAttribute("data-reo-event")&&("A"!=e.target.tagName||e.target.hasAttribute("data-reo-prevent-default")&&"false"!=e.target.getAttribute("data-reo-prevent-default")?"true"==e.target.getAttribute("data-reo-prevent-default")&&e.preventDefault():e.preventDefault(),_reoManualLoad(e.target))}),document.body.addEventListener("reo-trigger",function(e){_reoManualLoad(e.target,e.detail.triggerSourceElems)}),document.body.addEventListener("keypress",function(e){13==e.keyCode&&_reoManualLoad(e.target)}),document.addEventListener("scroll",function(e){e.target.scrollTop+e.target.clientHeight!=e.target.scrollHeight&&0!=e.target.scrollTop||_reoManualLoad(e.target)},!0)}),window.addEventListener("popstate",function(event){if(0!=_stateStack.length){var lastState=_stateStack.pop();if(document.title=event.state,"auto"==lastState.action)for(var i=0;i<lastState.content.length;i++)lastState.content[i].parentNode.removeChild(lastState.content[i]);else if("self"==lastState.action){var fn=window[lastState.func],jsStr=lastState.func;fn&&(jsStr=lastState.func+"(lastState.triggeredElem, lastState.content)"),eval(jsStr)}}},!1);
